
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ceylon Electricity Board - Invoice Generator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.13.3/cdn.min.js" defer></script>
    <style>
        @media print {
            @page {
                size: A4;
                margin: 15mm;
            }
            body {
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            .no-print {
                display: none !important;
            }
            .form-section {
                display: none !important;
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            font-size: 10px;
            line-height: 1.2;
            color: #000;
            background: #f5f5f5;
        }

        .app-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .form-section {
            background: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .form-section h2 {
            font-size: 18px;
            margin-bottom: 15px;
            color: #333;
            border-bottom: 2px solid #007acc;
            padding-bottom: 5px;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 12px;
        }

        .form-group input, .form-group select {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 12px;
        }

        .autocomplete-container {
            position: relative;
        }

        .autocomplete-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #ddd;
            border-top: none;
            border-radius: 0 0 4px 4px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
        }

        .autocomplete-suggestions.show {
            display: block;
        }

        .autocomplete-item {
            padding: 10px;
            cursor: pointer;
            border-bottom: 1px solid #eee;
            font-size: 12px;
        }

        .autocomplete-item:hover {
            background: #f0f8ff;
        }

        .line-items-section {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .line-item-form {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr auto;
            gap: 10px;
            align-items: end;
            margin-bottom: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 4px;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            font-weight: bold;
        }

        .btn-primary {
            background: #007acc;
            color: white;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn:hover {
            opacity: 0.9;
        }

        .line-items-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            font-size: 11px;
        }

        .line-items-table th,
        .line-items-table td {
            padding: 8px;
            border: 1px solid #ddd;
            text-align: left;
        }

        .line-items-table th {
            background: #f8f9fa;
            font-weight: bold;
        }

        .line-items-table .text-right {
            text-align: right;
        }

        .grand-total {
            font-size: 14px;
            font-weight: bold;
            background: #e9ecef;
        }

        .container {
            max-width: 210mm;
            margin: 20px auto;
            padding: 10px;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        .header {
            display: flex;
            align-items: center;
            border: 2px solid #000;
            margin-bottom: 2px;
        }

        .logo-section {
            width: 60px;
            border-right: 2px solid #000;
            padding: 5px;
            text-align: center;
        }

        .logo {
            width: 40px;
            height: 40px;
            border: 1px solid #000;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            font-size: 8px;
            background: #f0f0f0;
        }

        .title-section {
            flex: 1;
            padding: 10px;
            text-align: center;
        }

        .main-title {
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 2px;
        }

        .subtitle {
            font-size: 10px;
        }

        .office-info {
            width: 150px;
            border-left: 2px solid #000;
            padding: 10px;
            text-align: center;
        }

        .office-title {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .info-section {
            display: flex;
            border: 2px solid #000;
            border-top: none;
            margin-bottom: 2px;
        }

        .info-left {
            flex: 1;
            border-right: 1px solid #000;
        }

        .info-right {
            width: 150px;
        }

        .info-row {
            display: flex;
            border-bottom: 1px solid #000;
            min-height: 25px;
        }

        .info-row:last-child {
            border-bottom: none;
        }

        .info-label {
            width: 120px;
            padding: 5px 8px;
            border-right: 1px solid #000;
            background: #f8f8f8;
        }

        .info-value {
            flex: 1;
            padding: 5px 8px;
        }

        .table-container {
            border: 2px solid #000;
            margin-bottom: 2px;
        }

        .table-header {
            display: flex;
            background: #f0f0f0;
            border-bottom: 2px solid #000;
            font-weight: bold;
            text-align: center;
        }

        .col-sn { width: 30px; }
        .col-description { flex: 1; }
        .col-unit { width: 40px; }
        .col-rate { width: 60px; }
        .col-qty { width: 50px; }
        .col-amount { width: 70px; }
        .col-cert-qty { width: 50px; }
        .col-cert-amount { width: 80px; }

        .table-header > div {
            padding: 8px 4px;
            border-right: 1px solid #000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .table-header > div:last-child {
            border-right: none;
        }

        .table-row {
            display: flex;
            border-bottom: 1px solid #000;
            min-height: 20px;
        }

        .table-row:last-child {
            border-bottom: none;
        }

        .table-row > div {
            padding: 3px 4px;
            border-right: 1px solid #000;
            font-size: 9px;
        }

        .table-row > div:last-child {
            border-right: none;
        }

        .summary-section {
            border: 2px solid #000;
            border-top: none;
            min-height: 80px;
        }

        .summary-text {
            padding: 10px;
            text-align: center;
            font-size: 9px;
            line-height: 1.4;
        }

        .signature-section {
            display: flex;
            border: 2px solid #000;
            border-top: none;
            margin-bottom: 2px;
        }

        .signature-left {
            flex: 1;
            border-right: 1px solid #000;
            padding: 10px;
        }

        .signature-right {
            width: 200px;
            padding: 10px;
        }

        .signature-row {
            margin-bottom: 15px;
        }

        .signature-label {
            font-size: 9px;
            margin-bottom: 20px;
        }

        .signature-line {
            border-bottom: 1px solid #000;
            height: 1px;
            margin-bottom: 5px;
        }

        .footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 8px;
            margin-top: 10px;
        }

        .controls {
            text-align: center;
            margin: 20px 0;
        }

        @media screen and (max-width: 800px) {
            .line-item-form {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="app-container" x-data="invoiceApp()">
        <!-- Form Section -->
        <div class="form-section no-print">
            <h2>Invoice Information</h2>
            <div class="form-row">
                <div class="form-group">
                    <label>Contractor Name</label>
                    <input type="text" x-model="invoiceData.contractorName" placeholder="Enter contractor name">
                </div>
                <div class="form-group">
                    <label>Location</label>
                    <input type="text" x-model="invoiceData.location" placeholder="Enter location">
                </div>
                <div class="form-group">
                    <label>Service Number</label>
                    <input type="text" x-model="invoiceData.serviceNumber" placeholder="Enter service number">
                </div>
                <div class="form-group">
                    <label>Report Date</label>
                    <input type="date" x-model="invoiceData.reportDate">
                </div>
            </div>
        </div>

        <!-- Line Items Section -->
        <div class="line-items-section no-print">
            <h2>Line Items</h2>
            
            <!-- Add Line Item Form -->
            <div class="line-item-form">
                <div class="form-group">
                    <label>Description</label>
                    <div class="autocomplete-container">
                        <input 
                            type="text" 
                            x-model="currentItem.description"
                            @input="showSuggestions = true"
                            @blur="setTimeout(() => showSuggestions = false, 200)"
                            placeholder="Start typing description...">
                        <div class="autocomplete-suggestions" :class="{ 'show': showSuggestions && filteredSuggestions.length > 0 }">
                            <template x-for="suggestion in filteredSuggestions" :key="suggestion.description">
                                <div class="autocomplete-item" @click="selectSuggestion(suggestion)">
                                    <div x-text="suggestion.description"></div>
                                    <small style="color: #666;">Rs. <span x-text="suggestion.rate"></span> per <span x-text="suggestion.unit"></span></small>
                                </div>
                            </template>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Rate (Rs.)</label>
                    <input 
                        type="number" 
                        x-model.number="currentItem.rate" 
                        @input="calculateAmount()"
                        step="0.01"
                        placeholder="0.00">
                </div>
                <div class="form-group">
                    <label>Quantity</label>
                    <input 
                        type="number" 
                        x-model.number="currentItem.quantity" 
                        @input="calculateAmount()"
                        step="0.01"
                        placeholder="0">
                </div>
                <div class="form-group">
                    <label>Amount (Rs.)</label>
                    <input 
                        type="number" 
                        x-model.number="currentItem.amount" 
                        readonly
                        style="background: #f8f9fa;">
                </div>
                <div class="form-group">
                    <button type="button" class="btn btn-primary" @click="addLineItem()" :disabled="!canAddItem()">
                        Add Item
                    </button>
                </div>
            </div>

            <!-- Line Items Table -->
            <table class="line-items-table" x-show="lineItems.length > 0">
                <thead>
                    <tr>
                        <th style="width: 30px;">S/N</th>
                        <th>Description</th>
                        <th style="width: 60px;">Unit</th>
                        <th style="width: 80px;">Rate (Rs.)</th>
                        <th style="width: 80px;">Qty.</th>
                        <th style="width: 100px;">Amount (Rs.)</th>
                        <th style="width: 80px;" class="no-print">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <template x-for="(item, index) in lineItems" :key="index">
                        <tr>
                            <td x-text="index + 1"></td>
                            <td x-text="item.description"></td>
                            <td x-text="item.unit"></td>
                            <td class="text-right" x-text="parseFloat(item.rate).toFixed(2)"></td>
                            <td class="text-right" x-text="parseFloat(item.quantity).toFixed(2)"></td>
                            <td class="text-right" x-text="parseFloat(item.amount).toFixed(2)"></td>
                            <td class="no-print">
                                <button type="button" class="btn btn-danger" @click="removeLineItem(index)">
                                    Remove
                                </button>
                            </td>
                        </tr>
                    </template>
                    <tr class="grand-total">
                        <td colspan="5" style="text-align: right; font-weight: bold;">Grand Total:</td>
                        <td class="text-right" style="font-weight: bold;" x-text="'Rs. ' + grandTotal.toFixed(2)"></td>
                        <td class="no-print"></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Print Controls -->
        <div class="controls no-print">
            <button type="button" class="btn btn-success" @click="printInvoice()" :disabled="lineItems.length === 0">
                Print Invoice
            </button>
        </div>

        <!-- Invoice Template -->
        <div class="container">
            <!-- Header Section -->
            <div class="header">
                <div class="logo-section">
                    <div class="logo">CEB</div>
                </div>
                <div class="title-section">
                    <div class="main-title">Ceylon Electricity Board</div>
                    <div class="subtitle">සිංහල විදුලි ශක්ති මණ්ඩලය</div>
                </div>
                <div class="office-info">
                    <div class="office-title">Ceylon Electricity Board</div>
                    <div>Area Office - Matara</div>
                </div>
            </div>

            <!-- Information Section -->
            <div class="info-section">
                <div class="info-left">
                    <div class="info-row">
                        <div class="info-label">සන්ත්‍රාගතකරුගේ නම :</div>
                        <div class="info-value" x-text="invoiceData.contractorName"></div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">ස්ථානය :</div>
                        <div class="info-value" x-text="invoiceData.location"></div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">සේවයේ අංකය :</div>
                        <div class="info-value" x-text="invoiceData.serviceNumber"></div>
                    </div>
                </div>
                <div class="info-right">
                    <div class="info-row">
                        <div class="info-value" style="text-align: center; font-weight: bold;">ඉදිරිපත් කරන්නේ</div>
                    </div>
                    <div class="info-row">
                        <div class="info-value"></div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">වාර්තාව දිනය :</div>
                        <div class="info-value" x-text="formatDate(invoiceData.reportDate)"></div>
                    </div>
                </div>
            </div>

            <!-- Table Section -->
            <div class="table-container">
                <div class="table-header">
                    <div class="col-sn">S/N</div>
                    <div class="col-description">Description</div>
                    <div class="col-unit">Unit</div>
                    <div class="col-rate">Rate<br>(Rs.)</div>
                    <div class="col-qty">Qty.</div>
                    <div class="col-amount">Amount<br>(Rs.)</div>
                    <div class="col-cert-qty">Certified<br>Qty.</div>
                    <div class="col-cert-amount">Amount (Rs.)</div>
                </div>

                <!-- Dynamic Table Rows -->
                <template x-for="(item, index) in printableRows" :key="index">
                    <div class="table-row">
                        <div class="col-sn" x-text="item.sn"></div>
                        <div class="col-description" x-text="item.description"></div>
                        <div class="col-unit" x-text="item.unit"></div>
                        <div class="col-rate" x-text="item.rate"></div>
                        <div class="col-qty" x-text="item.quantity"></div>
                        <div class="col-amount" x-text="item.amount"></div>
                        <div class="col-cert-qty" x-text="item.certifiedQty"></div>
                        <div class="col-cert-amount" x-text="item.certifiedAmount"></div>
                    </div>
                </template>
            </div>

            <!-- Summary Section -->
            <div class="summary-section">
                <div class="summary-text">
                    රුපියල් : <span x-text="grandTotal.toFixed(2)"></span><br><br>
                    ගම නියස මන්ත්‍රී ල.ම. ප්‍රමතිගලේ අනුකූල නුති සහ ඇ.ද. අනුකූල පරුක්‍ෂව හෝ පන්න ලබන පනත් පලම් පරිවර්තන.
                </div>
            </div>

            <!-- Signature Section -->
            <div class="signature-section">
                <div class="signature-left">
                    <div class="signature-row">
                        <div class="signature-label">කෝන්ත්‍රාත්කරුගේ අත්සන</div>
                        <div class="signature-line"></div>
                    </div>
                    <div class="signature-row">
                        <div class="signature-label">නම.ප.නම. අත්සන</div>
                        <div class="signature-line"></div>
                    </div>
                    <div class="signature-row">
                        <div class="signature-label">දි.ය. (ප.වේ.ම. /ප.නම.ය.)</div>
                        <div class="signature-line"></div>
                    </div>
                </div>
                <div class="signature-right">
                    <div class="signature-row">
                        <div class="signature-label">වේ.ඉ.නියමුත්කරුගේ සහතික</div>
                        <div class="signature-line"></div>
                    </div>
                    <div class="signature-row">
                        <div class="signature-label">වේ.ප.(ම.වි./ප.ප්‍රමුක්‍ෂ.</div>
                        <div class="signature-line"></div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="footer">
                <span>Document No. : CE/MT/MHT/0/02</span>
                <span>Date of Issue: 30.11.2017</span>
                <span>Revised By: SEM</span>
                <span>Approved :</span>
            </div>
        </div>
    </div>

<script>
    function _0x434c(){const _0x53aa10=['310WYzqtb','Rehabilitation\x20of\x20existing\x20services\x20(Length\x20of\x20service\x20below\x2030m/Length\x20of\x20service\x20above\x2030m)','toFixed','toLocaleDateString','includes','10GZdyXW','4mroOUq','Removal\x20of\x20Pole/Struct\x20-\x208.3/9m\x20-\x20RC\x20Re-usable','Removal\x20of\x20Hardware\x20from\x20Existing\x20LV\x20Poles\x201ph/3ph','3652145qAJfJk','Excavation\x20of\x20pole\x20pits\x206m/6.7m\x2015\x22\x2030/33KV','6nFdCNG','push','Removal\x20of\x20Pole/Struct\x20-\x208.3/9m\x20-\x20Wooden\x20Re-usable','7202DWeLUv','Erection\x20of\x20feaut\x20-\x20LT\x20W/RC','unit','serviceDescriptions','Cancelled','Excavation\x20of\x20stay\x20pit\x20-\x20LT','forEach','Concreting\x20of\x20pole\x20pits\x209/250Kg\x20and\x209/500','showSuggestions','Removal\x20of\x20stay\x20completely','Changing\x20of\x20service\x20Wire\x20with\x20New\x20wire\x20(Length\x20of\x20service\x20below\x2030m/Length\x20of\x20service\x20above\x2030m)','log','description','currentItem','toLowerCase','Pole\x20transport\x20(...........)\x20Km','1005567oZarjQ','lineItems','reduce','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this?','length','Excavation\x20of\x20pole\x20pits\x20590/250Kg','Stringing\x20of\x20AAC/ABC\x20Conductors\x201ph/3ph','rate','Nos','filter','amount','toISOString','Erection\x20of\x20Pole\x20-\x209m/8.5m\x20W/R/C\x20poles','print','10701027XmRRTn','442280vOVXxa','calculateAmount','3108792uXRrdI','2030886nDIRej','split','Removal\x20of\x20AAC/ABC\x20Conductors\x201ph/3ph','quantity','Erection\x20of\x20stay\x20LT\x20-\x20Normal','Removal\x20and\x20reconnection\x20of\x20service\x20wire\x201ph/3ph'];_0x434c=function(){return _0x53aa10;};return _0x434c();}function _0x41e6(_0x242d51,_0xc753c0){const _0x434c69=_0x434c();return _0x41e6=function(_0x41e6e1,_0x3555d5){_0x41e6e1=_0x41e6e1-0xd0;let _0x58470d=_0x434c69[_0x41e6e1];return _0x58470d;},_0x41e6(_0x242d51,_0xc753c0);}(function(_0x36f7bf,_0xefd5f3){const _0x3b7361=_0x41e6,_0x25b5b0=_0x36f7bf();while(!![]){try{const _0x191771=parseInt(_0x3b7361(0xe9))/0x1*(-parseInt(_0x3b7361(0xdb))/0x2)+parseInt(_0x3b7361(0xf9))/0x3*(parseInt(_0x3b7361(0xe1))/0x4)+parseInt(_0x3b7361(0xd2))/0x5*(-parseInt(_0x3b7361(0xe6))/0x6)+parseInt(_0x3b7361(0xe4))/0x7+-parseInt(_0x3b7361(0xd4))/0x8+parseInt(_0x3b7361(0xd1))/0x9*(parseInt(_0x3b7361(0xe0))/0xa)+parseInt(_0x3b7361(0xd5))/0xb;if(_0x191771===_0xefd5f3)break;else _0x25b5b0['push'](_0x25b5b0['shift']());}catch(_0x2f1c53){_0x25b5b0['push'](_0x25b5b0['shift']());}}}(_0x434c,0x9b904));function invoiceApp(){const _0x265b75=_0x41e6;return{'invoiceData':{'contractorName':'','location':'','serviceNumber':'','reportDate':new Date()[_0x265b75(0x104)]()[_0x265b75(0xd6)]('T')[0x0]},'currentItem':{'description':'','unit':_0x265b75(0x101),'rate':0x0,'quantity':0x0,'amount':0x0},'lineItems':[],'showSuggestions':!0x1,'serviceDescriptions':[{'description':_0x265b75(0xf8),'rate':0x5dc,'unit':_0x265b75(0x101)},{'description':_0x265b75(0xe5),'rate':0x9c4,'unit':_0x265b75(0x101)},{'description':'Excavation\x20of\x20pole\x20pits\x2010-8.3m/100-11.5m\x20(Existing...)','rate':0xbb8,'unit':_0x265b75(0x101)},{'description':_0x265b75(0xfe),'rate':0x898,'unit':_0x265b75(0x101)},{'description':_0x265b75(0xee),'rate':0x320,'unit':_0x265b75(0x101)},{'description':'Erection\x20of\x20Pole/-\x206m/8.5m\x20W/R/Cpoles','rate':0x1194,'unit':'Nos'},{'description':_0x265b75(0x105),'rate':0x1388,'unit':_0x265b75(0x101)},{'description':'Erection\x20of\x20Pole\x20-\x209m/250/300m\x20RC\x20poles','rate':0x157c,'unit':'Nos'},{'description':_0x265b75(0xea),'rate':0x4b0,'unit':_0x265b75(0x101)},{'description':_0x265b75(0xd9),'rate':0x708,'unit':_0x265b75(0x101)},{'description':_0x265b75(0xf0),'rate':0xdac,'unit':_0x265b75(0x101)},{'description':_0x265b75(0xf2),'rate':0x320,'unit':'Nos'},{'description':_0x265b75(0xe3),'rate':0x258,'unit':'Nos'},{'description':_0x265b75(0xff),'rate':0x2134,'unit':'Km'},{'description':_0x265b75(0xd7),'rate':0x9c4,'unit':'Km'},{'description':'Re-Tensioning\x20of\x20AAC\x20(Fly)\x20Conductors','rate':0x5dc,'unit':'Km'},{'description':'Re-Tensioning\x20of\x20ABC\x20-\x201ph/3ph','rate':0x708,'unit':'Km'},{'description':_0x265b75(0xe8),'rate':0x4b0,'unit':_0x265b75(0x101)},{'description':_0x265b75(0xe2),'rate':0x5dc,'unit':_0x265b75(0x101)},{'description':'Removal\x20of\x20Pole/Struct\x20-\x206m/8.5m/9m\x20-\x20W/RC\x20Un-usable','rate':0x320,'unit':_0x265b75(0x101)},{'description':_0x265b75(0xda),'rate':0x1c2,'unit':_0x265b75(0x101)},{'description':_0x265b75(0xf3),'rate':0x28a,'unit':_0x265b75(0x101)},{'description':_0x265b75(0xdc),'rate':0x2ee,'unit':'Nos'}],get 'filteredSuggestions'(){const _0x155368=_0x265b75;return this[_0x155368(0xf6)][_0x155368(0xf5)]?this[_0x155368(0xec)][_0x155368(0x102)](_0x27df39=>_0x27df39[_0x155368(0xf5)]['toLowerCase']()[_0x155368(0xdf)](this[_0x155368(0xf6)][_0x155368(0xf5)][_0x155368(0xf7)]())):[];},get 'grandTotal'(){const _0x45b651=_0x265b75;return this[_0x45b651(0xfa)][_0x45b651(0xfb)]((_0x13c325,_0x2cb3ab)=>_0x13c325+parseFloat(_0x2cb3ab[_0x45b651(0x103)]||0x0),0x0);},get 'printableRows'(){const _0x566249=_0x265b75,_0x3be431=[],_0x4b29a8=0x19;return this['lineItems'][_0x566249(0xef)]((_0x5719fa,_0x200fb5)=>{const _0x14bb6a=_0x566249;_0x3be431['push']({'sn':_0x200fb5+0x1,'description':_0x5719fa[_0x14bb6a(0xf5)],'unit':_0x5719fa[_0x14bb6a(0xeb)],'rate':parseFloat(_0x5719fa[_0x14bb6a(0x100)])['toFixed'](0x2),'quantity':parseFloat(_0x5719fa['quantity'])[_0x14bb6a(0xdd)](0x2),'amount':parseFloat(_0x5719fa[_0x14bb6a(0x103)])['toFixed'](0x2),'certifiedQty':parseFloat(_0x5719fa[_0x14bb6a(0xd8)])['toFixed'](0x2),'certifiedAmount':parseFloat(_0x5719fa[_0x14bb6a(0x103)])['toFixed'](0x2)});}),this[_0x566249(0xfa)][_0x566249(0xfd)]<_0x4b29a8&&function(_0x22c9bb,_0x257518){const _0x3c65ec=_0x566249;for(let _0x536be0=_0x22c9bb[_0x3c65ec(0xfd)];_0x536be0<_0x257518;_0x536be0++)_0x22c9bb[_0x3c65ec(0xe7)]({'sn':_0x536be0+0x1,'description':'','unit':'','rate':'','quantity':'','amount':'','certifiedQty':'','certifiedAmount':''});}(_0x3be431,_0x4b29a8),_0x3be431;},'selectSuggestion'(_0x12e776){const _0x479c60=_0x265b75;this[_0x479c60(0xf6)][_0x479c60(0xf5)]=_0x12e776['description'],this[_0x479c60(0xf6)][_0x479c60(0x100)]=_0x12e776[_0x479c60(0x100)],this[_0x479c60(0xf6)][_0x479c60(0xeb)]=_0x12e776[_0x479c60(0xeb)],this[_0x479c60(0xf1)]=!0x1,this[_0x479c60(0xd3)]();},'calculateAmount'(){const _0x1e357e=_0x265b75;this[_0x1e357e(0xf6)][_0x1e357e(0x103)]=(this[_0x1e357e(0xf6)][_0x1e357e(0x100)]||0x0)*(this['currentItem'][_0x1e357e(0xd8)]||0x0);},'canAddItem'(){const _0x26887b=_0x265b75;return this['currentItem'][_0x26887b(0xf5)]&&this[_0x26887b(0xf6)]['rate']>0x0&&this['currentItem'][_0x26887b(0xd8)]>0x0;},'addLineItem'(){const _0x5ba746=_0x265b75;this['canAddItem']()&&(this[_0x5ba746(0xfa)][_0x5ba746(0xe7)]({'description':this['currentItem'][_0x5ba746(0xf5)],'unit':this[_0x5ba746(0xf6)][_0x5ba746(0xeb)],'rate':this['currentItem'][_0x5ba746(0x100)],'quantity':this[_0x5ba746(0xf6)][_0x5ba746(0xd8)],'amount':this[_0x5ba746(0xf6)][_0x5ba746(0x103)]}),this[_0x5ba746(0xf6)]={'description':'','unit':_0x5ba746(0x101),'rate':0x0,'quantity':0x0,'amount':0x0});},'removeLineItem'(_0x1166e1){const _0x39ad8c=_0x265b75;confirm(_0x39ad8c(0xfc))?this[_0x39ad8c(0xfa)]['splice'](_0x1166e1,0x1):console[_0x39ad8c(0xf4)](_0x39ad8c(0xed));},'formatDate'(_0x526759){const _0x58526f=_0x265b75;if(!_0x526759)return'';const _0x500d0a=new Date(_0x526759);return _0x500d0a[_0x58526f(0xde)]('en-GB');},'printInvoice'(){const _0xd521c2=_0x265b75;window[_0xd521c2(0xd0)]();}};}
</script>

</body>
</html>
